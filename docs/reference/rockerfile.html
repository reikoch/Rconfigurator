<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>create Dockerfile for desired R configuration — rockerfile • Rconfigurator</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="create Dockerfile for desired R configuration — rockerfile" />

<meta property="og:description" content="create Dockerfile for desired R configuration" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rconfigurator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>create Dockerfile for desired R configuration</h1>
    
    <div class="hidden name"><code>rockerfile.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>create Dockerfile for desired R configuration</p>
    
    </div>

    <pre class="usage"><span class='fu'>rockerfile</span>(<span class='no'>R_version</span>, <span class='no'>packages</span>, <span class='no'>versions</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>R_version</th>
      <td><p>character vector of desired R version</p></td>
    </tr>
    <tr>
      <th>packages</th>
      <td><p>character vector of desired package names</p></td>
    </tr>
    <tr>
      <th>versions</th>
      <td><p>character vector of desired package versions</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Dockerfile based on debian:stretch for desired R configuration</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>    <span class='fu'>rockerfile</span>(<span class='st'>'3.1.2'</span>, <span class='st'>'Rcpp'</span>, <span class='st'>'1.0.2'</span>)</div><div class='output co'>#&gt; [1] "FROM debian:stretch\n\nLABEL org.label-schema.license=\"GPL-3.0\" \\\n      org.label-schema.vcs-url=\"https://github.com/reikoch/cloner\" \\\n      org.label-schema.vendor=\"Reproducible R Project\"\n\nENV LC_ALL=en_US.UTF-8 \\\n    LANG=en_US.UTF-8 \\\n    TERM=xterm \\\n    R_VERSION=3.1.2\nRUN apt-get update \\\n  &amp;&amp; apt-get install -y --no-install-recommends \\\n    bash-completion \\\n    ca-certificates \\\n    file \\\n    fonts-texgyre \\\n    g++ \\\n    gfortran \\\n    gsfonts \\\n    libblas-dev \\\n    libbz2-1.0 \\\n    libcurl3 \\\n    libicu57 \\\n    libjpeg62-turbo \\\n    libopenblas-dev \\\n    libpangocairo-1.0-0 \\\n    libpcre3 \\\n    libpng16-16 \\\n    libreadline7 \\\n    libtiff5 \\\n    liblzma5 \\\n    locales \\\n    make \\\n    unzip \\\n    zip \\\n    zlib1g \\\n  &amp;&amp; echo \"en_US.UTF-8 UTF-8\" &gt;&gt; /etc/locale.gen \\\n  &amp;&amp; locale-gen en_US.utf8 \\\n  &amp;&amp; /usr/sbin/update-locale LANG=en_US.UTF-8 \\\n  &amp;&amp; BUILDDEPS=\"curl \\\n    default-jdk \\\n    libbz2-dev \\\n    libcairo2-dev \\\n    libcurl4-openssl-dev \\\n    libpango1.0-dev \\\n    libjpeg-dev \\\n    libicu-dev \\\n    libpcre3-dev \\\n    libpng-dev \\\n    libreadline-dev \\\n    libtiff5-dev \\\n    liblzma-dev \\\n    libx11-dev \\\n    libxt-dev \\\n    perl \\\n    tcl8.6-dev \\\n    tk8.6-dev \\\n    texinfo \\\n    texlive-extra-utils \\\n    texlive-fonts-recommended \\\n    texlive-fonts-extra \\\n    texlive-latex-recommended \\\n    x11proto-core-dev \\\n    xauth \\\n    xfonts-base \\\n    xvfb \\\n    zlib1g-dev\" \\\n  &amp;&amp; apt-get install -y --no-install-recommends $BUILDDEPS \\\n  &amp;&amp; cd tmp/ \\\n  ## Download source code\n  &amp;&amp; curl -O https://cloud.r-project.org/src/base/R-3/R-${R_VERSION}.tar.gz \\\n  ## Extract source code\n  &amp;&amp; tar -xf R-${R_VERSION}.tar.gz \\\n  &amp;&amp; cd R-${R_VERSION} \\\n  ## Set compiler flags\n  &amp;&amp; R_PAPERSIZE=letter \\\n    R_BATCHSAVE=\"--no-save --no-restore\" \\\n    R_BROWSER=xdg-open \\\n    PAGER=/usr/bin/pager \\\n    PERL=/usr/bin/perl \\\n    R_UNZIPCMD=/usr/bin/unzip \\\n    R_ZIPCMD=/usr/bin/zip \\\n    R_PRINTCMD=/usr/bin/lpr \\\n    LIBnn=lib \\\n    AWK=/usr/bin/awk \\\n    CFLAGS=\"-g -O2 -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g\" \\\n    CXXFLAGS=\"-g -O2 -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g\" \\\n  ## Configure options\n  ./configure --enable-R-shlib \\\n               --enable-memory-profiling \\\n               --with-readline \\\n               --with-blas \\\n               --with-tcltk \\\n               --disable-nls \\\n               --with-recommended-packages \\\n  ## Build with tests and install\n  &amp;&amp; make \\\n  &amp;&amp; make install-tests \\\n  &amp;&amp; make install \\\n  ## Add a default CRAN mirror\n  &amp;&amp; echo \"options(repos = c(CRAN = 'https://cloud.r-project.org/'), download.file.method = 'libcurl')\" &gt;&gt; /usr/local/lib/R/etc/Rprofile.site \\\n  ## Add a library directory (for user-installed packages)\n  &amp;&amp; mkdir -p /usr/local/lib/R/site-library \\\n  &amp;&amp; chown root:staff /usr/local/lib/R/site-library \\\n  &amp;&amp; chmod g+wx /usr/local/lib/R/site-library \\\n  ## Fix library path\n  &amp;&amp; echo \"R_LIBS_USER='/usr/local/lib/R/site-library'\" &gt;&gt; /usr/local/lib/R/etc/Renviron \\\n  &amp;&amp; echo \"R_LIBS=\\${R_LIBS-'/usr/local/lib/R/site-library:/usr/local/lib/R/library:/usr/lib/R/library'}\" &gt;&gt; /usr/local/lib/R/etc/Renviron \\\n  &amp;&amp; touch /tmp/packages \\\n  &amp;&amp; echo '#!/bin/sh' &gt; /tmp/dwnld \\\n  &amp;&amp; echo 'curl -fO https://cloud.r-project.org/src/contrib/$1_$2.tar.gz || curl -fO https://cloud.r-project.org/src/contrib/Archive/$1/$1_$2.tar.gz' &gt;&gt; /tmp/dwnld \\\n  &amp;&amp; echo 'echo $1 &gt;&gt; /tmp/packages' &gt;&gt; /tmp/dwnld \\\n  &amp;&amp; chmod a+x /tmp/dwnld \\\n  &amp;&amp; mkdir -p /tmp/library/src/contrib\n  \nRUN cd /tmp/library/src/contrib \\\n    &amp;&amp; /tmp/dwnld Rcpp 1.0.2 \\\n  ## install all downloaded packages\n  &amp;&amp; R -e \"tools::write_PACKAGES('/tmp/library/src/contrib')\" \\\n       -e \"packages &lt;- scan(file='/tmp/packages', what=character(), quiet=TRUE)\" \\\n       -e \"utils::install.packages(packages, repos='file://tmp/library', INSTALL_opts='--install-tests')\" \\\n  ## Clean up from R source install\n  &amp;&amp; cd / \\\n  &amp;&amp; rm -rf /tmp/* \\\n  &amp;&amp; apt-get remove --purge -y $BUILDDEPS \\\n  &amp;&amp; apt-get autoremove -y \\\n  &amp;&amp; apt-get autoclean -y \\\n  &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nCMD [\"R\"]\n"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Reinhold Koch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

